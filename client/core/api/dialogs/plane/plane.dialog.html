<div class="mat-typography">
  <h2 mat-dialog-title>
    <span *ngIf="plane?.id > 0">Update Plane</span>
    <span *ngIf="!(plane?.id > 0)">Add Plane</span>
  </h2>
  <mat-dialog-content>
    <ng-template #loading>
      <mat-progress-bar mode="indeterminate"
                        color="accent"></mat-progress-bar>
    </ng-template>
    <section *ngIf="organizationSvc.organizations$ | async as organizations else loading"
             fxLayout="column"
             fxLayoutAlign="start stretch"
             class="container">
      <mat-form-field>
        <mat-label>organization</mat-label>
        <mat-select [(ngModel)]="plane.organizationId">
          <mat-option *ngFor="let o of organizations"
                      [value]="o.id">{{o?.name}}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Plane Name</mat-label>
        <input matInput [(ngModel)]="plane.name" />
      </mat-form-field>
      <mat-slider [value]="plane.capacity"
                  [min]="min"
                  [max]="max"
                  [thumbLabel]="true"
                  [step]="1"
                  [tickInterval]="5"
                  (input)="updateCapacity($event)">
      </mat-slider>
    </section>
  </mat-dialog-content>
  <mat-dialog-actions>
    <button mat-button
            (click)="savePlane()">Save</button>
    <button mat-button
            color="warn"
            mat-dialog-close>Cancel</button>
  </mat-dialog-actions>
</div>
